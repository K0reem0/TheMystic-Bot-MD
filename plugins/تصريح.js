const handler = async (m, { conn, args, isROwner, command }) => {
  if (!isROwner) throw 'âŒ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù…Ø®ØµØµ Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·.';

  // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
  if (!global.mods) global.mods = [];

  // Ø£Ù…Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† (Ù„Ø§Ø¦Ø­Ø©)
  if (command === 'Ù„Ø§Ø¦Ø­Ø©') {
    if (global.mods.length === 0) {
      return m.reply('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø¹Ø¶Ø§Ø¡ Ù…Ø¶Ø§ÙÙŠÙ† Ø­Ø§Ù„ÙŠØ§Ù‹.');
    }
    let list = 'ğŸ“œ *Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡*:\n\n';
    global.mods.forEach((mod, index) => {
      list += `${index + 1}. ${mod}\n`;
    });
    return m.reply(list);
  }

  // Ø£Ù…Ø± Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±Ù (Ø§Ø¶Ù)
  if (command === 'Ø³Ù…Ø§Ø­') {
    if (!args[0]) throw 'âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….\n\nÙ…Ø«Ø§Ù„:\n.Ø§Ø¶Ù 966501234567';

    const number = args[0].replace(/\D/g, '');

    if (!number || number.length < 8) throw 'âš ï¸ Ø§Ù„Ø±Ù‚Ù… ØºÙŠØ± ØµØ§Ù„Ø­. ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„Ù‡ Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ­.';

    if (global.mods.includes(number)) {
      throw `âš ï¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${number} Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡.`;
    }

    global.mods.push(number);
    return m.reply(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${number} Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†.`);
  }

  // Ø£Ù…Ø± Ø¥Ø²Ø§Ù„Ø© Ù…Ø´Ø±Ù (Ø­Ø°Ù)
  if (command === 'Ù…Ù†Ø¹') {
    if (!args[0]) throw 'âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¥Ø²Ø§Ù„ØªÙ‡.\n\nÙ…Ø«Ø§Ù„:\n.Ø­Ø°Ù 966501234567';

    const number = args[0].replace(/\D/g, '');

    if (!number || number.length < 8) throw 'âš ï¸ Ø§Ù„Ø±Ù‚Ù… ØºÙŠØ± ØµØ§Ù„Ø­. ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„Ù‡ Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ­.';

    if (!global.mods.includes(number)) {
      throw `âš ï¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${number} ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡.`;
    }

    global.mods = global.mods.filter(mod => mod !== number);
    return m.reply(`âœ… ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${number} Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡.`);
  }
};

// Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ù†ÙØµÙ„Ø©
handler.help = [
  'Ø§Ø¶Ù <Ø±Ù‚Ù…> - Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±Ù Ø¬Ø¯ÙŠØ¯',
  'Ø­Ø°Ù <Ø±Ù‚Ù…> - Ø¥Ø²Ø§Ù„Ø© Ù…Ø´Ø±Ù',
  'Ù„Ø§Ø¦Ø­Ø© - Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†'
];

handler.tags = ['owner'];
handler.command = ['Ø³Ù…Ø§Ø­', 'Ù…Ù†Ø¹', 'Ù„Ø§Ø¦Ø­Ø©'];
handler.rowner = true; // ÙÙ‚Ø· Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ

export default handler;
